# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

```bash
# Development - runs both Vite dev server and Slice Machine
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Type checking
npm run check
npm run check:watch

# Linting and formatting
npm run lint
npm run format
```

## Architecture Overview

This is a SvelteKit project integrated with Prismic CMS for content management. The project uses:
- **SvelteKit** with file-based routing and SSR
- **Prismic CMS** for headless content management
- **TypeScript** for type safety
- **Slice Machine** for content modeling

### Key Directories

- `src/routes/` - SvelteKit file-based routing
  - `[[preview=preview]]/` - Preview mode support for Prismic
  - `[uid]/` - Dynamic page routing by Prismic UID
- `src/lib/slices/` - Prismic Slice components (managed by Slice Machine)
- `src/lib/prismicio.ts` - Prismic client configuration

### Prismic Integration

The repository name is `kindertagespflege-hummelgarten`. Content types include:
- **Page** custom type with:
  - UID field for routing
  - Title (StructuredText)
  - Slice Zone for modular content
  - SEO metadata fields

### Data Fetching Pattern

All data fetching happens server-side in `+page.server.ts` files:
1. Create Prismic client with request context (cookies, fetch)
2. Query content by UID or type
3. Return data to page component via `load` function

### Important Files

- `src/routes/slice-simulator/+page.svelte` - DO NOT EDIT - Required for Slice Machine
- `src/lib/slices/` - Slice components generated by Slice Machine (edit `index.svelte` files only)